<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Music Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
      50% { box-shadow: 0 0 40px rgba(236, 72, 153, 0.8); }
    }

    @keyframes waveMove {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    @keyframes equalizerBounce {
      0%, 100% { height: 20%; }
      50% { height: 100%; }
    }

    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    body {
      background: linear-gradient(135deg, #0a0a0f 0%, #1a0e2e 50%, #0f0a1e 100%);
      overflow-x: hidden;
    }

    .glass-panel {
      background: rgba(15, 10, 30, 0.8);
      backdrop-filter: blur(25px);
      border: 2px solid rgba(147, 112, 219, 0.3);
      box-shadow: 0 25px 80px rgba(102, 51, 153, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
    }

    .glass-panel::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
      animation: float 6s ease-in-out infinite;
    }

    .title-glow {
      text-shadow: 0 0 40px rgba(139, 92, 246, 0.8), 0 0 80px rgba(236, 72, 153, 0.5);
      animation: pulse 3s ease-in-out infinite;
    }

    .mood-btn {
      background: rgba(255, 255, 255, 0.08);
      border: 2px solid rgba(255, 255, 255, 0.15);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .mood-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(139, 92, 246, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .mood-btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .mood-btn:hover {
      background: rgba(139, 92, 246, 0.25);
      border-color: rgba(139, 92, 246, 0.6);
      box-shadow: 0 0 30px rgba(139, 92, 246, 0.6), inset 0 0 20px rgba(139, 92, 246, 0.2);
      transform: translateY(-4px) scale(1.05);
    }

    .mood-active {
      background: linear-gradient(135deg, #8b5cf6, #ec4899);
      border-color: rgba(236, 72, 153, 0.8);
      animation: glow 2s ease-in-out infinite;
    }

    .gradient-btn {
      background: linear-gradient(135deg, #8b5cf6, #ec4899);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .gradient-btn::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .gradient-btn:hover:not(:disabled)::after {
      left: 100%;
    }

    .gradient-btn:hover:not(:disabled) {
      box-shadow: 0 0 50px rgba(236, 72, 153, 0.9), 0 0 100px rgba(139, 92, 246, 0.5);
      transform: translateY(-4px) scale(1.05);
    }

    .gradient-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .social-link {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .social-link:hover {
      color: #a78bfa;
      text-shadow: 0 0 20px #a78bfa;
      transform: scale(1.2) rotate(5deg);
    }

    .waveform-container {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 120px;
      overflow: hidden;
      opacity: 0.15;
      pointer-events: none;
    }

    .waveform {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 200%;
      height: 100%;
      background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 10px,
        rgba(139, 92, 246, 0.5) 10px,
        rgba(139, 92, 246, 0.5) 12px
      );
      animation: waveMove 20s linear infinite;
    }

    .equalizer {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 8px;
      height: 80px;
      margin: 20px 0;
    }

    .eq-bar {
      width: 8px;
      background: linear-gradient(to top, #8b5cf6, #ec4899);
      border-radius: 4px 4px 0 0;
      animation: equalizerBounce 1s ease-in-out infinite;
      box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
    }

    .eq-bar:nth-child(1) { animation-delay: 0s; animation-duration: 0.6s; }
    .eq-bar:nth-child(2) { animation-delay: 0.1s; animation-duration: 0.8s; }
    .eq-bar:nth-child(3) { animation-delay: 0.2s; animation-duration: 0.5s; }
    .eq-bar:nth-child(4) { animation-delay: 0.3s; animation-duration: 0.9s; }
    .eq-bar:nth-child(5) { animation-delay: 0.4s; animation-duration: 0.7s; }
    .eq-bar:nth-child(6) { animation-delay: 0.5s; animation-duration: 0.6s; }
    .eq-bar:nth-child(7) { animation-delay: 0.6s; animation-duration: 0.8s; }
    .eq-bar:nth-child(8) { animation-delay: 0.7s; animation-duration: 0.5s; }
    .eq-bar:nth-child(9) { animation-delay: 0.8s; animation-duration: 0.9s; }
    .eq-bar:nth-child(10) { animation-delay: 0.9s; animation-duration: 0.7s; }

    .robot-icon {
      display: inline-block;
      animation: float 3s ease-in-out infinite;
    }

    .music-note {
      position: absolute;
      font-size: 24px;
      opacity: 0.2;
      animation: float 4s ease-in-out infinite;
      pointer-events: none;
    }

    .music-note:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
    .music-note:nth-child(2) { top: 20%; right: 15%; animation-delay: 1s; }
    .music-note:nth-child(3) { bottom: 30%; left: 8%; animation-delay: 2s; }
    .music-note:nth-child(4) { bottom: 15%; right: 12%; animation-delay: 1.5s; }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4">

  <main class="glass-panel rounded-3xl p-10 w-full max-w-3xl text-center space-y-10">
    <!-- Floating Music Notes -->
    <div class="music-note">‚ô™</div>
    <div class="music-note">‚ô´</div>
    <div class="music-note">‚ô™</div>
    <div class="music-note">‚ô´</div>

    <!-- Waveform Background -->
    <div class="waveform-container">
      <div class="waveform"></div>
    </div>

    <!-- HEADER -->
    <div class="space-y-4 relative z-10">
       <h1 class="text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 title-glow">
         <span class="robot-icon inline-flex align-middle mr-2" aria-hidden="true">
           <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
             <defs>
               <linearGradient id="robotGradient" x1="0" y1="0" x2="64" y2="64" gradientUnits="userSpaceOnUse">
                 <stop stop-color="#8b5cf6"/>
                 <stop offset="1" stop-color="#ec4899"/>
               </linearGradient>
             </defs>
             <rect x="10" y="16" width="44" height="32" rx="8" fill="url(#robotGradient)" opacity="0.95"/>
             <rect x="16" y="22" width="32" height="20" rx="6" fill="#0a0a1a" opacity="0.9"/>
             <circle cx="24" cy="32" r="4" fill="#8b5cf6"/>
             <circle cx="40" cy="32" r="4" fill="#ec4899"/>
             <rect x="24" y="38" width="16" height="4" rx="2" fill="#d9d9ff" opacity="0.8"/>
             <rect x="30" y="8" width="4" height="8" rx="2" fill="url(#robotGradient)"/>
             <circle cx="32" cy="8" r="3" fill="#d9d9ff" opacity="0.85"/>
           </svg>
         </span>
         AI Music Generator
      </h1>
      <p class="text-purple-300 text-xl">
        Turn imagination into music with artificial intelligence
      </p>
      <p class="text-gray-300 opacity-70">
        Create unique AI-generated music inspired by emotion & sound design
      </p>
      
      <!-- Equalizer Animation -->
      <div class="equalizer">
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
      </div>
    </div>

    <!-- MOOD SELECT (BUTTONS) -->
    <div class="space-y-4 relative z-10">
      <p class="text-purple-300 font-semibold text-lg">üéß Choose a Mood</p>

      <div class="flex justify-center gap-4 flex-wrap">
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('energetic', this)">‚ö° Energetic</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('melancholic', this)">üåô Melancholic</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('ambient', this)">‚ú® Ambient</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('classical', this)">üéª Classical</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('synthwave', this)">üéπ Synthwave</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('jazz', this)">üé∑ Jazz</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('rock', this)">üé∏ Rock</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('lofi', this)">üéß Lofi</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('pop', this)">üé§ Pop</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('hiphop', this)">üéß Hiphop</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('electro', this)">‚ö° Electro</button>
        <button class="mood-btn px-6 py-3 rounded-xl text-white font-medium" onclick="setMood('blues', this)">üéµ Blues</button>
      </div>
    </div>

    <!-- HIDDEN INPUT (JS COMPATIBLE) -->
    <input type="hidden" id="moodSelect" value="">

    <!-- GENERATE -->
    <button id="generateBtn" class="gradient-btn px-10 py-5 rounded-2xl text-white text-xl font-bold shadow-xl relative z-10">
      üé∂ Generate Music
    </button>

    <p id="status" class="text-purple-200 text-base min-h-6 relative z-10"></p>

    <!-- FOOTER -->
    <div class="pt-6 border-t border-white/10 space-y-3 relative z-10">
      <p class="text-gray-400 text-sm">
        Developed by <span class="text-purple-400 font-semibold">Muzammil Ahmed</span>
      </p>

      <div class="flex justify-center gap-6 text-2xl">
        <a href="https://www.linkedin.com/in/muzammil-ahmed-0902612a5/" target="_blank" class="social-link text-[#0A66C2]">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-7 h-7">
            <path d="M4.98 3.5C4.98 4.88 3.9 6 2.5 6S0 4.88 0 3.5 1.08 1 2.48 1s2.5 1.12 2.5 2.5zM.24 23.5h4.5V7.98H.24V23.5zM8.63 7.98h4.3v2.12h.06c.6-1.14 2.08-2.34 4.28-2.34 4.58 0 5.43 3.02 5.43 6.94v8.8h-4.5v-7.8c0-1.86-.03-4.25-2.6-4.25-2.6 0-3 2.03-3 4.1v7.95H8.63V7.98z"/>
          </svg>
        </a>

        <a href="https://github.com/MuzammilBaloch-22" target="_blank" class="social-link text-white">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-7 h-7">
            <path fill-rule="evenodd" d="M12 .5C5.65.5.5 5.65.5 12c0 5.1 3.29 9.42 7.86 10.95.58.1.79-.25.79-.56 0-.28-.01-1.04-.02-2.04-3.2.7-3.88-1.54-3.88-1.54-.53-1.35-1.28-1.7-1.28-1.7-1.05-.72.08-.7.08-.7 1.16.08 1.77 1.2 1.77 1.2 1.04 1.78 2.73 1.27 3.4.97.1-.76.41-1.27.74-1.56-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.3 1.2-3.11-.12-.3-.52-1.5.11-3.14 0 0 .97-.31 3.18 1.19a11.1 11.1 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.64 1.64.24 2.84.12 3.14.75.81 1.2 1.85 1.2 3.11 0 4.42-2.68 5.39-5.24 5.67.42.36.8 1.07.8 2.16 0 1.56-.02 2.82-.02 3.2 0 .31.21.67.8.56A10.52 10.52 0 0 0 23.5 12c0-6.35-5.15-11.5-11.5-11.5Z" clip-rule="evenodd"/>
          </svg>
        </a>

        <a href="https://www.instagram.com/muzammil_baloch_22/" target="_blank" class="social-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-7 h-7">
            <defs>
              <linearGradient id="instaGradient" x1="0%" y1="100%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#F58529"/>
                <stop offset="30%" stop-color="#DD2A7B"/>
                <stop offset="60%" stop-color="#8134AF"/>
                <stop offset="100%" stop-color="#515BD4"/>
              </linearGradient>
            </defs>
            <path fill="url(#instaGradient)" d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm0 2h10c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3zm10.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM12 7.5A4.5 4.5 0 1 0 12 16.5 4.5 4.5 0 0 0 12 7.5zm0 2A2.5 2.5 0 1 1 12 14 2.5 2.5 0 0 1 12 9.5z"/>
          </svg>
        </a>
      </div>
    </div>
  </main>

  <script>
    const button = document.getElementById("generateBtn");
    const moodSelect = document.getElementById("moodSelect");
    const statusText = document.getElementById("status");

    function setMood(mood, el) {
      moodSelect.value = mood;
      document.querySelectorAll(".mood-btn").forEach((b) =>
        b.classList.remove("mood-active")
      );
      el.classList.add("mood-active");
      statusText.textContent = `Mood selected: ${mood}`;
    }

    async function generateAndDownload() {
      const mood = moodSelect.value;
      if (!mood) {
        statusText.textContent = "Please select a mood first.";
        return;
      }

      statusText.textContent = `Generating ${mood} track...`;
      button.disabled = true;

      try {
        const response = await fetch(`http://localhost:5000/generate?mood=${mood}`);
        const blob = await response.blob();

        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `generated_${mood}.mid`;
        a.click();
        URL.revokeObjectURL(url);
        statusText.textContent = `‚úÖ ${mood} track generated successfully!`;
      } catch (error) {
        statusText.textContent = "‚ùå Failed to generate music. Please check if the server is running.";
        console.error("Error:", error);
      } finally {
        button.disabled = false;
      }
    }

    button.addEventListener("click", generateAndDownload);
  </script>

</body>
</html>


